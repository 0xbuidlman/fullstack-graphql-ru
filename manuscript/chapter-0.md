# ПРЕДИСЛОВИЕ

GraphQL ведёт к кардинальным изменениям в модель взаимодействия клиент-сервер. Это технология, позволяющая лучше документировать API, облегчать управление данными в HTTP-клиентах и ​​оптимизировать использование сети.

Одним из основных преимуществ GraphQL является улучшение взаимодействия между API и её пользователями. Содействует слаженному общению в команде, предоставляя простой интерфейс для фронтенд-разработчиков, которые знают все методы, которые им предоставляет API. Он также обеспечивает лучшее взаимодействие с сторонними пользователями API, поскольку у сервисам GraphQL не требуется конфигурация для  документации API.

Это расширяет возможности клиентов, предоставляя им полный контроль за получением данных. GraphQL позволяет клиентам запрашивать только те данные, которые им нужны. Не больше, не меньше. Он также даёт клиентам возможность запрашивать вложенные ресурсы за одну и ту же операцию, избегая необходимости выполнять цепочки запросов, как в REST. REST порождает тенденцию к сложности использования API для клиентов.

Ещё одним преимуществом GraphQL является то, что он оптимизирует использование сети за счёт уменьшения отправляемых данных и количества HTTP-запросов. Сокращение данных и запросов напрямую указывает на более лучший опыт взаимодействия для мобильных пользователей.

## Итак, что же такое GraphQL?

GraphQL — типизированный предметно-ориентированный язык для проектирования и запросов данных.

Предметно-ориентированный язык или DSL — это язык, созданный для единственной предметной области приложения. Они противоположны языкам общего назначения, таким как JavaScript, Ruby, Python или C, которые применимы для решения разных задач. В настоящее время существует множество популярных DSL: CSS — DSL для стилизации, и HTML — DSL для разметки. GraphQL — это DSL для данных.

Это типизированный язык. Это означает, что он использует типы для определения ресурсов, он добавляет типы в поля каждого ресурса. Он также использует типы для статической проверки ошибок. Быть типизированным языком значит являться источником самых больших достоинств GraphQL, таких как автоматическая интроспекция API и документация.

Предметная область GraphQL — это данные. Он может использоваться для разработки схемы, представляющей данные, а также для запроса определённых полей данных.

Разработка серверов и клиентов API является основным вариантом использования GraphQL. Бэкенд-разработчики могут использовать GraphQL для моделирования своих данных, в то время как фронтенд-разработчики могут использовать GraphQL для формулирования запросов для получения определённых частей данных.

Даже несмотря на то, что сервисы обычно выставляют GraphQL через свой HTTP-уровень, GraphQL не привязан к HTTP или любому другому протоколу передачи данных.

GraphQL — это спецификация. Это означает, что он указывает, как он должен работать, позволяя любому реализовать GraphQL на любом языке программирования. Существует официальная реализация на JavaScript под названием `graphql-js`, но есть также много других реализаций на других языках программирования, таких как Ruby, Elixir и т.д.

## Организация книги

В этой книге вы узнаете, как разработать законченное клиент-серверное приложение, использующее GraphQL с нуля. Вы узнаете, как получать данные от клиента, как проектировать эти данные на сервере, как разрабатывать серверы GraphQL на Node.js и, наконец, как создавать клиенты React с использованием GraphQL.

Первые две главы расскажут вам, как получать данные с помощью GraphQL. В первой главе вы узнаете, как создавать данные. Во второй главе вы узнаете, как проектировать схемы. Вы узнаете эти чистые концепции GraphQL, без необходимости думать о HTTP-серверах или клиентах. GraphQL — это абстракция, которая позволяет вам думать о данных, не беспокоясь о том, как они будут передаваться. Вы создадите схему, запросы и мутации с помощью JavaScript и нескольких библиотек GraphQL.

Остальные главы будут посвящены созданию серверов и клиентов GraphQL.

В третьей главе, API GraphQL, вы узнаете, как создавать HTTP-серверы GraphQL с использованием серверов Node.js и Apollo. Вы узнаете, как сделать доступной схему GraphQL через HTTP, как подключаться к базе данных, как обрабатывать аутентификацию и авторизацию и как должны организованы ваши файлы.

В четвёртой главе, Клиенты GraphQL, вы узнаете, как разрабатывать клиенты GraphQL с помощью клиента React и Apollo. Вы узнаете, как запрашивать и создавать данные с использованием Apollo-компонентов `Query` и `Mutation`, а также как обрабатывать аутентификацию.

В пятой главе вы научитесь, как добавить функциональность в режиме реального времени к вашим приложениям GraphQL с помощью подписок (Subscriptions). Подписки предоставляют API-интерфейсам GraphQL возможность передавать данные клиентам.

Вы узнаете, как тестировать API и клиенты GraphQL в шестой главе.

## Пример приложения

В ходе этой книги вы узнаете, как построить клон сервииса Pinterest под названием Pinapp с использованием GraphQL, Node.js, React и клиента Apollo.

Pinapp должен позволять пользователям:

* Войти с помощью магических ссылок
* Выйти из приложения
* Добавить «кнопки» (pins) («кнопка» — это изображение со ссылкой на URL-адрес)
* Поиск «кнопок» и пользователей
* Список «кнопок»
* Просматривать новые «кнопки» без обновления браузера

Вы создадите это приложение слоями. Сначала вы создадите слой данных, затем напишите бизнес-логику, после чего создадите транспортный уровень HTTP, затем соедините все с уровнем базы данных и, наконец, сделаете HTTP-клиент.

## Окружение для разработки

Нет никаких требований к окружению, чтобы попробовать примеры в этой книге, кроме наличия браузера и подключения к Интернету. На каждом шаге приложения есть запущенная, редактируемая онлайн-версия, размещенная на glitch.com. Glitch — потрясающее сообщество для создания приложений, созданное людьми, которые разработали Stack Overflow и Trello.
