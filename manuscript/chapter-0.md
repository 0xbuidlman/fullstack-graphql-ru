# ПРЕДИСЛОВИЕ

GraphQL — революционное решение в клиент-серверном взаимодействии. Это технология позволяет лучше документировать API, облегчает управление данными в HTTP-клиентах и оптимизирует использование сети.

Одно из основных преимуществ GraphQL — улучшение взаимодействия между API и её пользователями. Кроме этого, технология позволяет улучшить взаимодействие в команде разработчиков, предоставляя им информацию о методах взаимодействия с API. Он также обеспечивает лучшее взаимодействие с сторонними пользователями API, поскольку у сервисам GraphQL не требуется конфигурация для документации API.

Учитывая вышесказанное GraphQL расширяет возможности клиентов, давая им полный контроль над получением данных. GraphQL позволяет клиентам запрашивать только те данные, которые им нужны, — ни больше ни меньше. Технология также предоставляет возможность запрашивать и вложенные данные, используя один запрос и избегая нескольких простых запросов, как это принято в RESTful API. REST порождает тенденцию к сложности использования API для клиентов.

Как следствие GraphQL оптимизирует использование сети за счёт уменьшения отправляемых данных и количества HTTP-запросов. Данное преимущество особенно заметно при взаимодействии с мобильными клиентами, где интернет-трафик играет важную роль.

## Итак, что же такое GraphQL?

GraphQL — типизированный предметно-ориентированный язык для проектирования и запросов данных.

Предметно-ориентированный язык или DSL — это язык, созданный для единственной предметной области приложения; он противоположен языкам общего назначения, таким как JavaScript, Ruby, Python или C, которые применяются для решения самых разных задач. В настоящее время существует множество популярных DSL: CSS — DSL для стилизации, а HTML — DSL для разметки. И вот GraphQL — это DSL для данных.

GraphQL — это типизированный язык, а это значит, что он использует типы для определения ресурсов, он добавляет типы в поля каждого ресурса. Он также использует типы для статической проверки ошибок. Быть типизированным языком значит являться источником самых больших достоинств GraphQL, таких как автоматическая интроспекция API и документация.

Предметная область GraphQL — это данные. Он может использоваться для разработки схемы, представляющей данные, а также для запроса определённых полей данных.

Разработка серверов и клиентов API является основным вариантом использования GraphQL. Бэкенд-разработчики могут использовать GraphQL для моделирования своих данных, в то время как фронтенд-разработчики могут использовать GraphQL для формулирования запросов для получения определённых частей данных.

Даже несмотря на то, что сервисы обычно выставляют GraphQL через свой HTTP-уровень, GraphQL не привязан к HTTP или любому другому протоколу передачи данных.

GraphQL — это спецификация. Это означает, что он указывает, как он должен работать, позволяя любому реализовать его на любом языке программирования. Существует официальная реализация на JavaScript под названием `graphql-js`, но есть также множество других реализаций на разных языках программирования, таких как Ruby, Elixir и т.д.

## Организация книги

В этой книге вы узнаете, как с нуля разработать законченное клиент-серверное приложение, использующее GraphQL. Вы узнаете, как получать данные от клиента, как проектировать эти данные на сервере, как разрабатывать серверы GraphQL на Node.js и, наконец, как создавать клиенты React с использованием GraphQL.

Первые две главы расскажут вам, как получать данные с помощью GraphQL. В первой главе вы познакомитесь с тем, как создавать данные. Во второй главе вы узнаете, как проектировать схемы. Вы узнаете эти чистые концепции GraphQL, без нужды задумываться о HTTP-серверах или клиентах. GraphQL — это абстракция, которая позволяет вам думать о данных, не беспокоясь о том, как они будут передаваться. Вы создадите схему, запросы и мутации с помощью JavaScript и нескольких библиотек GraphQL.

Остальные главы будут посвящены созданию серверов и клиентов GraphQL.

В третьей главе, API GraphQL, вы узнаете, как создавать HTTP-серверы GraphQL с использованием серверов Node.js и Apollo. Вы узнаете, как сделать доступной схему GraphQL через HTTP, как подключаться к базе данных, как обрабатывать аутентификацию и авторизацию и как должны организованы ваши файлы.

В четвёртой главе, Клиенты GraphQL, вы научитесь разрабатывать клиенты GraphQL с помощью клиента React и Apollo. Вы узнаете, как запрашивать и создавать данные с использованием Apollo-компонентов `Query` и `Mutation`, а также как обрабатывать аутентификацию.

В пятой главе вы освоите добавление функциональности, работающей в режиме реального времени к вашим приложениям GraphQL с помощью подписок (Subscriptions). Подписки предоставляют API-интерфейсам GraphQL возможность передавать данные клиентам.

Наконец, в шестой главе вы познакометесь, как тестировать API и клиенты GraphQL.

## Пример приложения

В ходе этой книги вы узнаете, как создать клон сервииса Pinterest под названием Pinapp с использованием GraphQL, Node.js, React и клиента Apollo.

У Pinapp определены следующие требования:

* Вход с помощью магических ссылок
* Выход из приложения
* Добавление «кнопки» (pins) («кнопка» — это изображение со ссылкой на URL-адрес)
* Возможность поиска «кнопок» и пользователей
* Просмотр списка «кнопок»
* Просмотр новых «кнопок» без обновления браузера

Вы создадите это приложение слоями. Сначала вы создадите слой данных, затем напишите бизнес-логику, после чего перейдёте к транспортному уровню HTTP, а затем соедините всё это с уровнем базы данных и, наконец, реализуете HTTP-клиент.

## Окружение для разработки

Нет никаких требований к окружению, чтобы посмотреть вживую на примеры из этой книги, кроме наличия браузера и подключения к Интернету. На каждом шаге приложения есть работающая и редактируемая онлайн-версия, размещённая на glitch.com. Glitch — потрясающее сообщество для создания приложений, созданное людьми, которые разработали Stack Overflow и Trello.
